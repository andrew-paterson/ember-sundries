{"version":3,"file":"select-all-checkbox.js","sources":["../../../src/components/ember-sundries/select-all-checkbox.js"],"sourcesContent":["import { action } from '@ember/object';\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport './select-all-checkbox.css';\n\nexport default class SelectAllCheckbox extends Component {\n  @tracked relatedCollection;\n  @tracked selectAllText;\n  @tracked selectNoneText;\n  @tracked showLabel;\n\n  get collectionState() {\n    if (!this.args.relatedCollection) {\n      return;\n    }\n    if (\n      !this.args.relatedCollection.isEvery('selected', true) &&\n      this.args.relatedCollection.isAny('selected', true)\n    ) {\n      return 'some-selected';\n    } else if (this.args.relatedCollection.isEvery('selected', true)) {\n      return 'all-selected';\n    } else if (!this.args.relatedCollection.isAny('selected', true)) {\n      return 'none-selected';\n    }\n  }\n\n  get label() {\n    if (this.args.showLabel) {\n      return this.collectionState === 'all-selected'\n        ? this.args.selectNoneText || 'Select none'\n        : this.args.selectAllText || 'Select all';\n    }\n  }\n\n  @action\n  selectAllClicked(value, event) {\n    if (!this.args.allowPropagation) {\n      event.stopPropagation();\n    }\n    var selectAllValue = this.collectionState === 'all-selected' ? false : true;\n    this.args.relatedCollection.forEach((item) => {\n      item.selected = selectAllValue;\n    });\n    if (this.args.afterSelectAllClicked) {\n      this.args.afterSelectAllClicked(value, event, this.collectionState);\n    }\n  }\n}\n"],"names":["SelectAllCheckbox","Component","g","prototype","tracked","i","void 0","collectionState","args","relatedCollection","isEvery","isAny","label","showLabel","selectNoneText","selectAllText","selectAllClicked","value","event","allowPropagation","stopPropagation","selectAllValue","forEach","item","selected","afterSelectAllClicked","n","action","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;;;AAKe,MAAMA,iBAAiB,SAASC,SAAS,CAAC;AAAA,EAAA;IAAAC,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,mBAAA,EAAA,CACtDC,OAAO,CAAA,CAAA;AAAA;AAAA,EAAA,kBAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,mBAAA,CAAA,EAAAC,SAAA;AAAA,EAAA;IAAAJ,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,eAAA,EAAA,CACPC,OAAO,CAAA,CAAA;AAAA;AAAA,EAAA,cAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,eAAA,CAAA,EAAAC,SAAA;AAAA,EAAA;IAAAJ,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,gBAAA,EAAA,CACPC,OAAO,CAAA,CAAA;AAAA;AAAA,EAAA,eAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,gBAAA,CAAA,EAAAC,SAAA;AAAA,EAAA;IAAAJ,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,WAAA,EAAA,CACPC,OAAO,CAAA,CAAA;AAAA;AAAA,EAAA,UAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,WAAA,CAAA,EAAAC,SAAA;EAER,IAAIC,eAAeA,GAAG;AACpB,IAAA,IAAI,CAAC,IAAI,CAACC,IAAI,CAACC,iBAAiB,EAAE;AAChC,MAAA;AACF;IACA,IACE,CAAC,IAAI,CAACD,IAAI,CAACC,iBAAiB,CAACC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,IACtD,IAAI,CAACF,IAAI,CAACC,iBAAiB,CAACE,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,EACnD;AACA,MAAA,OAAO,eAAe;AACxB,KAAC,MAAM,IAAI,IAAI,CAACH,IAAI,CAACC,iBAAiB,CAACC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE;AAChE,MAAA,OAAO,cAAc;AACvB,KAAC,MAAM,IAAI,CAAC,IAAI,CAACF,IAAI,CAACC,iBAAiB,CAACE,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE;AAC/D,MAAA,OAAO,eAAe;AACxB;AACF;EAEA,IAAIC,KAAKA,GAAG;AACV,IAAA,IAAI,IAAI,CAACJ,IAAI,CAACK,SAAS,EAAE;MACvB,OAAO,IAAI,CAACN,eAAe,KAAK,cAAc,GAC1C,IAAI,CAACC,IAAI,CAACM,cAAc,IAAI,aAAa,GACzC,IAAI,CAACN,IAAI,CAACO,aAAa,IAAI,YAAY;AAC7C;AACF;AAGAC,EAAAA,gBAAgBA,CAACC,KAAK,EAAEC,KAAK,EAAE;AAC7B,IAAA,IAAI,CAAC,IAAI,CAACV,IAAI,CAACW,gBAAgB,EAAE;MAC/BD,KAAK,CAACE,eAAe,EAAE;AACzB;IACA,IAAIC,cAAc,GAAG,IAAI,CAACd,eAAe,KAAK,cAAc,GAAG,KAAK,GAAG,IAAI;IAC3E,IAAI,CAACC,IAAI,CAACC,iBAAiB,CAACa,OAAO,CAAEC,IAAI,IAAK;MAC5CA,IAAI,CAACC,QAAQ,GAAGH,cAAc;AAChC,KAAC,CAAC;AACF,IAAA,IAAI,IAAI,CAACb,IAAI,CAACiB,qBAAqB,EAAE;AACnC,MAAA,IAAI,CAACjB,IAAI,CAACiB,qBAAqB,CAACR,KAAK,EAAEC,KAAK,EAAE,IAAI,CAACX,eAAe,CAAC;AACrE;AACF;AAAC,EAAA;IAAAmB,CAAA,CAAA,IAAA,CAAAvB,SAAA,EAAA,kBAAA,EAAA,CAZAwB,MAAM,CAAA,CAAA;AAAA;AAaT;AAACC,oBAAA,CAAAC,QAAA,EA3CoB7B,iBAAiB,CAAA;;;;"}